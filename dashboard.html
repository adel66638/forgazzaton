                                class="w-full py-3 rounded-xl text-[9px] font-black uppercase ${isActive ? 'bg-green-600/10 text-green-500' : 'bg-blue-600'}" 
                                ${isActive ? 'disabled' : ''}>${isActive ? 'Active' : 'Upgrade'}</button>
                        </div>`;
                }
            });
        }

        function closeWelcomeModal() { document.getElementById('welcome-modal').classList.add('hidden'); }
        function copyRef() { const c = document.getElementById("ref-link"); c.select(); document.execCommand("copy"); alert("Link Copied!"); }

        tonConnectUI.onStatusChange(wallet => {
            if (wallet) { setupReferralAndTrack(wallet.account.address); renderLevels(wallet.account.address); }
            else { window.location.href = 'index.html'; }
        });
    </script>
</body>
</html>
