<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | FF FORTONE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <style>
        body { background-color: #0f172a; color: white; font-family: sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .gradient-text { background: linear-gradient(90deg, #3b82f6, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <div id="ton-connect" class="mb-8"></div>

    <div class="glass p-8 rounded-[2rem] shadow-2xl w-full max-w-md text-center">
        <h1 class="text-3xl font-extrabold mb-6 gradient-text">لوحة التحكم</h1>
        
        <div class="mb-8 p-6 bg-slate-800/40 rounded-3xl border border-white/5">
            <p class="text-gray-400 text-sm mb-2">تكلفة الترقية الحالية</p>
            <p class="text-5xl font-black">0.5 <span class="text-xl text-blue-500">TON</span></p>
        </div>

        <button onclick="payDirectly()" class="w-full bg-blue-600 hover:bg-blue-700 py-4 rounded-2xl font-bold text-lg shadow-lg transition-all active:scale-95 mb-4">
            تفعيل الترقية الآن
        </button>
        
        <p class="text-[10px] text-gray-500 italic">سيتم إرسال المبلغ مباشرة لتفعيل حسابك</p>
    </div>

    <script>
        // هنا نضع محفظتك الشخصية مباشرة بدون عقد
        const MY_WALLET = "EQCynb1kgfPUU-52BHZZMSKZu-TgXaPgjqXVVNOXqX0FZtr";

        const tonConnectUI = new TONConnectUI.TonConnectUI({
            manifestUrl: 'https://raw.githubusercontent.com/ton-connect/demo-dapp-with-react-ui/main/public/tonconnect-manifest.json',
            buttonRootId: 'ton-connect'
        });

        async function payDirectly() {
            if (!tonConnectUI.connected) {
                alert("يرجى ربط المحفظة أولاً!");
                return;
            }

            const transaction = {
                validUntil: Math.floor(Date.now() / 1000) + 300,
                messages: [
                    {
                        address: MY_WALLET, // الإرسال لمحفظتك مباشرة
                        amount: "500000000", // مبلغ 0.5 TON
                    }
                ]
            };

            try {
                await tonConnectUI.sendTransaction(transaction);
                alert("شكراً لك! تم إرسال الطلب بنجاح.");
            } catch (e) {
                console.error(e);
                alert("تم إلغاء العملية.");
            }
        }
    </script>
</body>
</html>
